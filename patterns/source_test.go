// Copyright 2017 Marc-Antoine Ruel. All rights reserved.
// Use of this source code is governed under the Apache License, Version 2.0
// that can be found in the LICENSE file.

package patterns

import (
	"fmt"
	"testing"

	"github.com/maruel/anim1d"
)

func TestRainbow(t *testing.T) {
	f := make(anim1d.Frame, 16)
	r := Rainbow{}
	r.Render(f, 0)
	var expected anim1d.Frame
	if err := expected.UnmarshalJSON([]byte("\"L4d00818300ed1b00ff0056ff00c1ff00ff7f2bff0083ff00deff00ffc000ff5600ff0000ff0000dc00007e0000000000\"")); err != nil {
		t.Fatal(err)
	}
	if !f.IsEqual(expected) {
		t.Fatalf("%s != %s", marshalPattern(f), marshalPattern(expected))
	}
	if r.String() != rainbowKey {
		t.Fail()
	}
}

func TestRepeated(t *testing.T) {
	a := anim1d.Color{0x10, 0x10, 0x10}
	b := anim1d.Color{0x20, 0x20, 0x20}
	c := anim1d.Color{0x30, 0x30, 0x30}
	p := &Repeated{anim1d.Frame{a, b, c}}
	e := []expectation{
		{0, anim1d.Frame{a, b, c, a, b}},
		{0, anim1d.Frame{a}},
	}
	testFrames(t, p, e)
}

func TestWaveLength2RGB(t *testing.T) {
	data := []struct {
		input    int
		expected anim1d.Color
	}{
		{379, anim1d.Color{0x00, 0x00, 0x00}},
		{380, anim1d.Color{0x1A, 0x00, 0x1A}},
		{381, anim1d.Color{0x1D, 0x00, 0x1F}},
		{382, anim1d.Color{0x20, 0x00, 0x25}},
		{383, anim1d.Color{0x23, 0x00, 0x2B}},
		{384, anim1d.Color{0x26, 0x00, 0x30}},
		{385, anim1d.Color{0x29, 0x00, 0x36}},
		{386, anim1d.Color{0x2B, 0x00, 0x3C}},
		{387, anim1d.Color{0x2E, 0x00, 0x42}},
		{388, anim1d.Color{0x31, 0x00, 0x47}},
		{389, anim1d.Color{0x34, 0x00, 0x4D}},
		{390, anim1d.Color{0x37, 0x00, 0x53}},
		{391, anim1d.Color{0x3A, 0x00, 0x58}},
		{392, anim1d.Color{0x3C, 0x00, 0x5E}},
		{393, anim1d.Color{0x3F, 0x00, 0x64}},
		{394, anim1d.Color{0x42, 0x00, 0x6A}},
		{395, anim1d.Color{0x45, 0x00, 0x6F}},
		{396, anim1d.Color{0x48, 0x00, 0x75}},
		{397, anim1d.Color{0x4B, 0x00, 0x7B}},
		{398, anim1d.Color{0x4D, 0x00, 0x81}},
		{399, anim1d.Color{0x50, 0x00, 0x86}},
		{400, anim1d.Color{0x53, 0x00, 0x8C}},
		{401, anim1d.Color{0x56, 0x00, 0x92}},
		{402, anim1d.Color{0x59, 0x00, 0x97}},
		{403, anim1d.Color{0x5C, 0x00, 0x9D}},
		{404, anim1d.Color{0x5E, 0x00, 0xA3}},
		{405, anim1d.Color{0x61, 0x00, 0xA9}},
		{406, anim1d.Color{0x64, 0x00, 0xAE}},
		{407, anim1d.Color{0x67, 0x00, 0xB4}},
		{408, anim1d.Color{0x6A, 0x00, 0xBA}},
		{409, anim1d.Color{0x6D, 0x00, 0xC0}},
		{410, anim1d.Color{0x6F, 0x00, 0xC5}},
		{411, anim1d.Color{0x72, 0x00, 0xCB}},
		{412, anim1d.Color{0x75, 0x00, 0xD1}},
		{413, anim1d.Color{0x78, 0x00, 0xD6}},
		{414, anim1d.Color{0x7B, 0x00, 0xDC}},
		{415, anim1d.Color{0x7E, 0x00, 0xE2}},
		{416, anim1d.Color{0x80, 0x00, 0xE8}},
		{417, anim1d.Color{0x83, 0x00, 0xED}},
		{418, anim1d.Color{0x86, 0x00, 0xF3}},
		{419, anim1d.Color{0x89, 0x00, 0xF9}},
		{420, anim1d.Color{0x89, 0x00, 0xFF}},
		{421, anim1d.Color{0x82, 0x00, 0xFF}},
		{422, anim1d.Color{0x7B, 0x00, 0xFF}},
		{423, anim1d.Color{0x74, 0x00, 0xFF}},
		{424, anim1d.Color{0x6D, 0x00, 0xFF}},
		{425, anim1d.Color{0x66, 0x00, 0xFF}},
		{426, anim1d.Color{0x5F, 0x00, 0xFF}},
		{427, anim1d.Color{0x59, 0x00, 0xFF}},
		{428, anim1d.Color{0x52, 0x00, 0xFF}},
		{429, anim1d.Color{0x4B, 0x00, 0xFF}},
		{430, anim1d.Color{0x44, 0x00, 0xFF}},
		{431, anim1d.Color{0x3D, 0x00, 0xFF}},
		{432, anim1d.Color{0x36, 0x00, 0xFF}},
		{433, anim1d.Color{0x2F, 0x00, 0xFF}},
		{434, anim1d.Color{0x29, 0x00, 0xFF}},
		{435, anim1d.Color{0x22, 0x00, 0xFF}},
		{436, anim1d.Color{0x1B, 0x00, 0xFF}},
		{437, anim1d.Color{0x14, 0x00, 0xFF}},
		{438, anim1d.Color{0x0D, 0x00, 0xFF}},
		{439, anim1d.Color{0x06, 0x00, 0xFF}},
		{440, anim1d.Color{0x00, 0x00, 0xFF}},
		{441, anim1d.Color{0x00, 0x05, 0xFF}},
		{442, anim1d.Color{0x00, 0x0A, 0xFF}},
		{443, anim1d.Color{0x00, 0x0F, 0xFF}},
		{444, anim1d.Color{0x00, 0x14, 0xFF}},
		{445, anim1d.Color{0x00, 0x19, 0xFF}},
		{446, anim1d.Color{0x00, 0x1E, 0xFF}},
		{447, anim1d.Color{0x00, 0x23, 0xFF}},
		{448, anim1d.Color{0x00, 0x28, 0xFF}},
		{449, anim1d.Color{0x00, 0x2D, 0xFF}},
		{450, anim1d.Color{0x00, 0x33, 0xFF}},
		{451, anim1d.Color{0x00, 0x38, 0xFF}},
		{452, anim1d.Color{0x00, 0x3D, 0xFF}},
		{453, anim1d.Color{0x00, 0x42, 0xFF}},
		{454, anim1d.Color{0x00, 0x47, 0xFF}},
		{455, anim1d.Color{0x00, 0x4C, 0xFF}},
		{456, anim1d.Color{0x00, 0x51, 0xFF}},
		{457, anim1d.Color{0x00, 0x56, 0xFF}},
		{458, anim1d.Color{0x00, 0x5B, 0xFF}},
		{459, anim1d.Color{0x00, 0x60, 0xFF}},
		{460, anim1d.Color{0x00, 0x66, 0xFF}},
		{461, anim1d.Color{0x00, 0x6B, 0xFF}},
		{462, anim1d.Color{0x00, 0x70, 0xFF}},
		{463, anim1d.Color{0x00, 0x75, 0xFF}},
		{464, anim1d.Color{0x00, 0x7A, 0xFF}},
		{465, anim1d.Color{0x00, 0x7F, 0xFF}},
		{466, anim1d.Color{0x00, 0x84, 0xFF}},
		{467, anim1d.Color{0x00, 0x89, 0xFF}},
		{468, anim1d.Color{0x00, 0x8E, 0xFF}},
		{469, anim1d.Color{0x00, 0x93, 0xFF}},
		{470, anim1d.Color{0x00, 0x99, 0xFF}},
		{471, anim1d.Color{0x00, 0x9E, 0xFF}},
		{472, anim1d.Color{0x00, 0xA3, 0xFF}},
		{473, anim1d.Color{0x00, 0xA8, 0xFF}},
		{474, anim1d.Color{0x00, 0xAD, 0xFF}},
		{475, anim1d.Color{0x00, 0xB2, 0xFF}},
		{476, anim1d.Color{0x00, 0xB7, 0xFF}},
		{477, anim1d.Color{0x00, 0xBC, 0xFF}},
		{478, anim1d.Color{0x00, 0xC1, 0xFF}},
		{479, anim1d.Color{0x00, 0xC6, 0xFF}},
		{480, anim1d.Color{0x00, 0xCC, 0xFF}},
		{481, anim1d.Color{0x00, 0xD1, 0xFF}},
		{482, anim1d.Color{0x00, 0xD6, 0xFF}},
		{483, anim1d.Color{0x00, 0xDB, 0xFF}},
		{484, anim1d.Color{0x00, 0xE0, 0xFF}},
		{485, anim1d.Color{0x00, 0xE5, 0xFF}},
		{486, anim1d.Color{0x00, 0xEA, 0xFF}},
		{487, anim1d.Color{0x00, 0xEF, 0xFF}},
		{488, anim1d.Color{0x00, 0xF4, 0xFF}},
		{489, anim1d.Color{0x00, 0xF9, 0xFF}},
		{490, anim1d.Color{0x00, 0xFF, 0xFF}},
		{491, anim1d.Color{0x00, 0xFF, 0xF2}},
		{492, anim1d.Color{0x00, 0xFF, 0xE5}},
		{493, anim1d.Color{0x00, 0xFF, 0xD8}},
		{494, anim1d.Color{0x00, 0xFF, 0xCC}},
		{495, anim1d.Color{0x00, 0xFF, 0xBF}},
		{496, anim1d.Color{0x00, 0xFF, 0xB2}},
		{497, anim1d.Color{0x00, 0xFF, 0xA5}},
		{498, anim1d.Color{0x00, 0xFF, 0x99}},
		{499, anim1d.Color{0x00, 0xFF, 0x8C}},
		{500, anim1d.Color{0x00, 0xFF, 0x7F}},
		{501, anim1d.Color{0x00, 0xFF, 0x72}},
		{502, anim1d.Color{0x00, 0xFF, 0x66}},
		{503, anim1d.Color{0x00, 0xFF, 0x59}},
		{504, anim1d.Color{0x00, 0xFF, 0x4C}},
		{505, anim1d.Color{0x00, 0xFF, 0x3F}},
		{506, anim1d.Color{0x00, 0xFF, 0x33}},
		{507, anim1d.Color{0x00, 0xFF, 0x26}},
		{508, anim1d.Color{0x00, 0xFF, 0x19}},
		{509, anim1d.Color{0x00, 0xFF, 0x0C}},
		{510, anim1d.Color{0x00, 0xFF, 0x00}},
		{511, anim1d.Color{0x03, 0xFF, 0x00}},
		{512, anim1d.Color{0x07, 0xFF, 0x00}},
		{513, anim1d.Color{0x0A, 0xFF, 0x00}},
		{514, anim1d.Color{0x0E, 0xFF, 0x00}},
		{515, anim1d.Color{0x12, 0xFF, 0x00}},
		{516, anim1d.Color{0x15, 0xFF, 0x00}},
		{517, anim1d.Color{0x19, 0xFF, 0x00}},
		{518, anim1d.Color{0x1D, 0xFF, 0x00}},
		{519, anim1d.Color{0x20, 0xFF, 0x00}},
		{520, anim1d.Color{0x24, 0xFF, 0x00}},
		{521, anim1d.Color{0x28, 0xFF, 0x00}},
		{522, anim1d.Color{0x2B, 0xFF, 0x00}},
		{523, anim1d.Color{0x2F, 0xFF, 0x00}},
		{524, anim1d.Color{0x33, 0xFF, 0x00}},
		{525, anim1d.Color{0x36, 0xFF, 0x00}},
		{526, anim1d.Color{0x3A, 0xFF, 0x00}},
		{527, anim1d.Color{0x3D, 0xFF, 0x00}},
		{528, anim1d.Color{0x41, 0xFF, 0x00}},
		{529, anim1d.Color{0x45, 0xFF, 0x00}},
		{530, anim1d.Color{0x48, 0xFF, 0x00}},
		{531, anim1d.Color{0x4C, 0xFF, 0x00}},
		{532, anim1d.Color{0x50, 0xFF, 0x00}},
		{533, anim1d.Color{0x53, 0xFF, 0x00}},
		{534, anim1d.Color{0x57, 0xFF, 0x00}},
		{535, anim1d.Color{0x5B, 0xFF, 0x00}},
		{536, anim1d.Color{0x5E, 0xFF, 0x00}},
		{537, anim1d.Color{0x62, 0xFF, 0x00}},
		{538, anim1d.Color{0x66, 0xFF, 0x00}},
		{539, anim1d.Color{0x69, 0xFF, 0x00}},
		{540, anim1d.Color{0x6D, 0xFF, 0x00}},
		{541, anim1d.Color{0x70, 0xFF, 0x00}},
		{542, anim1d.Color{0x74, 0xFF, 0x00}},
		{543, anim1d.Color{0x78, 0xFF, 0x00}},
		{544, anim1d.Color{0x7B, 0xFF, 0x00}},
		{545, anim1d.Color{0x7F, 0xFF, 0x00}},
		{546, anim1d.Color{0x83, 0xFF, 0x00}},
		{547, anim1d.Color{0x86, 0xFF, 0x00}},
		{548, anim1d.Color{0x8A, 0xFF, 0x00}},
		{549, anim1d.Color{0x8E, 0xFF, 0x00}},
		{550, anim1d.Color{0x91, 0xFF, 0x00}},
		{551, anim1d.Color{0x95, 0xFF, 0x00}},
		{552, anim1d.Color{0x99, 0xFF, 0x00}},
		{553, anim1d.Color{0x9C, 0xFF, 0x00}},
		{554, anim1d.Color{0xA0, 0xFF, 0x00}},
		{555, anim1d.Color{0xA3, 0xFF, 0x00}},
		{556, anim1d.Color{0xA7, 0xFF, 0x00}},
		{557, anim1d.Color{0xAB, 0xFF, 0x00}},
		{558, anim1d.Color{0xAE, 0xFF, 0x00}},
		{559, anim1d.Color{0xB2, 0xFF, 0x00}},
		{560, anim1d.Color{0xB6, 0xFF, 0x00}},
		{561, anim1d.Color{0xB9, 0xFF, 0x00}},
		{562, anim1d.Color{0xBD, 0xFF, 0x00}},
		{563, anim1d.Color{0xC1, 0xFF, 0x00}},
		{564, anim1d.Color{0xC4, 0xFF, 0x00}},
		{565, anim1d.Color{0xC8, 0xFF, 0x00}},
		{566, anim1d.Color{0xCC, 0xFF, 0x00}},
		{567, anim1d.Color{0xCF, 0xFF, 0x00}},
		{568, anim1d.Color{0xD3, 0xFF, 0x00}},
		{569, anim1d.Color{0xD6, 0xFF, 0x00}},
		{570, anim1d.Color{0xDA, 0xFF, 0x00}},
		{571, anim1d.Color{0xDE, 0xFF, 0x00}},
		{572, anim1d.Color{0xE1, 0xFF, 0x00}},
		{573, anim1d.Color{0xE5, 0xFF, 0x00}},
		{574, anim1d.Color{0xE9, 0xFF, 0x00}},
		{575, anim1d.Color{0xEC, 0xFF, 0x00}},
		{576, anim1d.Color{0xF0, 0xFF, 0x00}},
		{577, anim1d.Color{0xF4, 0xFF, 0x00}},
		{578, anim1d.Color{0xF7, 0xFF, 0x00}},
		{579, anim1d.Color{0xFB, 0xFF, 0x00}},
		{580, anim1d.Color{0xFF, 0xFF, 0x00}},
		{581, anim1d.Color{0xFF, 0xFB, 0x00}},
		{582, anim1d.Color{0xFF, 0xF7, 0x00}},
		{583, anim1d.Color{0xFF, 0xF3, 0x00}},
		{584, anim1d.Color{0xFF, 0xEF, 0x00}},
		{585, anim1d.Color{0xFF, 0xEB, 0x00}},
		{586, anim1d.Color{0xFF, 0xE7, 0x00}},
		{587, anim1d.Color{0xFF, 0xE3, 0x00}},
		{588, anim1d.Color{0xFF, 0xDF, 0x00}},
		{589, anim1d.Color{0xFF, 0xDB, 0x00}},
		{590, anim1d.Color{0xFF, 0xD7, 0x00}},
		{591, anim1d.Color{0xFF, 0xD3, 0x00}},
		{592, anim1d.Color{0xFF, 0xCF, 0x00}},
		{593, anim1d.Color{0xFF, 0xCC, 0x00}},
		{594, anim1d.Color{0xFF, 0xC8, 0x00}},
		{595, anim1d.Color{0xFF, 0xC4, 0x00}},
		{596, anim1d.Color{0xFF, 0xC0, 0x00}},
		{597, anim1d.Color{0xFF, 0xBC, 0x00}},
		{598, anim1d.Color{0xFF, 0xB8, 0x00}},
		{599, anim1d.Color{0xFF, 0xB4, 0x00}},
		{600, anim1d.Color{0xFF, 0xB0, 0x00}},
		{601, anim1d.Color{0xFF, 0xAC, 0x00}},
		{602, anim1d.Color{0xFF, 0xA8, 0x00}},
		{603, anim1d.Color{0xFF, 0xA4, 0x00}},
		{604, anim1d.Color{0xFF, 0xA0, 0x00}},
		{605, anim1d.Color{0xFF, 0x9C, 0x00}},
		{606, anim1d.Color{0xFF, 0x99, 0x00}},
		{607, anim1d.Color{0xFF, 0x95, 0x00}},
		{608, anim1d.Color{0xFF, 0x91, 0x00}},
		{609, anim1d.Color{0xFF, 0x8D, 0x00}},
		{610, anim1d.Color{0xFF, 0x89, 0x00}},
		{611, anim1d.Color{0xFF, 0x85, 0x00}},
		{612, anim1d.Color{0xFF, 0x81, 0x00}},
		{613, anim1d.Color{0xFF, 0x7D, 0x00}},
		{614, anim1d.Color{0xFF, 0x79, 0x00}},
		{615, anim1d.Color{0xFF, 0x75, 0x00}},
		{616, anim1d.Color{0xFF, 0x71, 0x00}},
		{617, anim1d.Color{0xFF, 0x6D, 0x00}},
		{618, anim1d.Color{0xFF, 0x69, 0x00}},
		{619, anim1d.Color{0xFF, 0x66, 0x00}},
		{620, anim1d.Color{0xFF, 0x62, 0x00}},
		{621, anim1d.Color{0xFF, 0x5E, 0x00}},
		{622, anim1d.Color{0xFF, 0x5A, 0x00}},
		{623, anim1d.Color{0xFF, 0x56, 0x00}},
		{624, anim1d.Color{0xFF, 0x52, 0x00}},
		{625, anim1d.Color{0xFF, 0x4E, 0x00}},
		{626, anim1d.Color{0xFF, 0x4A, 0x00}},
		{627, anim1d.Color{0xFF, 0x46, 0x00}},
		{628, anim1d.Color{0xFF, 0x42, 0x00}},
		{629, anim1d.Color{0xFF, 0x3E, 0x00}},
		{630, anim1d.Color{0xFF, 0x3A, 0x00}},
		{631, anim1d.Color{0xFF, 0x36, 0x00}},
		{632, anim1d.Color{0xFF, 0x33, 0x00}},
		{633, anim1d.Color{0xFF, 0x2F, 0x00}},
		{634, anim1d.Color{0xFF, 0x2B, 0x00}},
		{635, anim1d.Color{0xFF, 0x27, 0x00}},
		{636, anim1d.Color{0xFF, 0x23, 0x00}},
		{637, anim1d.Color{0xFF, 0x1F, 0x00}},
		{638, anim1d.Color{0xFF, 0x1B, 0x00}},
		{639, anim1d.Color{0xFF, 0x17, 0x00}},
		{640, anim1d.Color{0xFF, 0x13, 0x00}},
		{641, anim1d.Color{0xFF, 0x0F, 0x00}},
		{642, anim1d.Color{0xFF, 0x0B, 0x00}},
		{643, anim1d.Color{0xFF, 0x07, 0x00}},
		{644, anim1d.Color{0xFF, 0x03, 0x00}},
		{645, anim1d.Color{0xFF, 0x00, 0x00}},
		{646, anim1d.Color{0xFF, 0x00, 0x00}},
		{647, anim1d.Color{0xFF, 0x00, 0x00}},
		{648, anim1d.Color{0xFF, 0x00, 0x00}},
		{649, anim1d.Color{0xFF, 0x00, 0x00}},
		{650, anim1d.Color{0xFF, 0x00, 0x00}},
		{651, anim1d.Color{0xFF, 0x00, 0x00}},
		{652, anim1d.Color{0xFF, 0x00, 0x00}},
		{653, anim1d.Color{0xFF, 0x00, 0x00}},
		{654, anim1d.Color{0xFF, 0x00, 0x00}},
		{655, anim1d.Color{0xFF, 0x00, 0x00}},
		{656, anim1d.Color{0xFF, 0x00, 0x00}},
		{657, anim1d.Color{0xFF, 0x00, 0x00}},
		{658, anim1d.Color{0xFF, 0x00, 0x00}},
		{659, anim1d.Color{0xFF, 0x00, 0x00}},
		{660, anim1d.Color{0xFF, 0x00, 0x00}},
		{661, anim1d.Color{0xFF, 0x00, 0x00}},
		{662, anim1d.Color{0xFF, 0x00, 0x00}},
		{663, anim1d.Color{0xFF, 0x00, 0x00}},
		{664, anim1d.Color{0xFF, 0x00, 0x00}},
		{665, anim1d.Color{0xFF, 0x00, 0x00}},
		{666, anim1d.Color{0xFF, 0x00, 0x00}},
		{667, anim1d.Color{0xFF, 0x00, 0x00}},
		{668, anim1d.Color{0xFF, 0x00, 0x00}},
		{669, anim1d.Color{0xFF, 0x00, 0x00}},
		{670, anim1d.Color{0xFF, 0x00, 0x00}},
		{671, anim1d.Color{0xFF, 0x00, 0x00}},
		{672, anim1d.Color{0xFF, 0x00, 0x00}},
		{673, anim1d.Color{0xFF, 0x00, 0x00}},
		{674, anim1d.Color{0xFF, 0x00, 0x00}},
		{675, anim1d.Color{0xFF, 0x00, 0x00}},
		{676, anim1d.Color{0xFF, 0x00, 0x00}},
		{677, anim1d.Color{0xFF, 0x00, 0x00}},
		{678, anim1d.Color{0xFF, 0x00, 0x00}},
		{679, anim1d.Color{0xFF, 0x00, 0x00}},
		{680, anim1d.Color{0xFF, 0x00, 0x00}},
		{681, anim1d.Color{0xFF, 0x00, 0x00}},
		{682, anim1d.Color{0xFF, 0x00, 0x00}},
		{683, anim1d.Color{0xFF, 0x00, 0x00}},
		{684, anim1d.Color{0xFF, 0x00, 0x00}},
		{685, anim1d.Color{0xFF, 0x00, 0x00}},
		{686, anim1d.Color{0xFF, 0x00, 0x00}},
		{687, anim1d.Color{0xFF, 0x00, 0x00}},
		{688, anim1d.Color{0xFF, 0x00, 0x00}},
		{689, anim1d.Color{0xFF, 0x00, 0x00}},
		{690, anim1d.Color{0xFF, 0x00, 0x00}},
		{691, anim1d.Color{0xFF, 0x00, 0x00}},
		{692, anim1d.Color{0xFF, 0x00, 0x00}},
		{693, anim1d.Color{0xFF, 0x00, 0x00}},
		{694, anim1d.Color{0xFF, 0x00, 0x00}},
		{695, anim1d.Color{0xFF, 0x00, 0x00}},
		{696, anim1d.Color{0xFF, 0x00, 0x00}},
		{697, anim1d.Color{0xFF, 0x00, 0x00}},
		{698, anim1d.Color{0xFF, 0x00, 0x00}},
		{699, anim1d.Color{0xFF, 0x00, 0x00}},
		{700, anim1d.Color{0xFF, 0x00, 0x00}},
		{701, anim1d.Color{0xFC, 0x00, 0x00}},
		{702, anim1d.Color{0xF9, 0x00, 0x00}},
		{703, anim1d.Color{0xF6, 0x00, 0x00}},
		{704, anim1d.Color{0xF3, 0x00, 0x00}},
		{705, anim1d.Color{0xF0, 0x00, 0x00}},
		{706, anim1d.Color{0xED, 0x00, 0x00}},
		{707, anim1d.Color{0xEA, 0x00, 0x00}},
		{708, anim1d.Color{0xE8, 0x00, 0x00}},
		{709, anim1d.Color{0xE5, 0x00, 0x00}},
		{710, anim1d.Color{0xE2, 0x00, 0x00}},
		{711, anim1d.Color{0xDF, 0x00, 0x00}},
		{712, anim1d.Color{0xDC, 0x00, 0x00}},
		{713, anim1d.Color{0xD9, 0x00, 0x00}},
		{714, anim1d.Color{0xD6, 0x00, 0x00}},
		{715, anim1d.Color{0xD4, 0x00, 0x00}},
		{716, anim1d.Color{0xD1, 0x00, 0x00}},
		{717, anim1d.Color{0xCE, 0x00, 0x00}},
		{718, anim1d.Color{0xCB, 0x00, 0x00}},
		{719, anim1d.Color{0xC8, 0x00, 0x00}},
		{720, anim1d.Color{0xC5, 0x00, 0x00}},
		{721, anim1d.Color{0xC2, 0x00, 0x00}},
		{722, anim1d.Color{0xC0, 0x00, 0x00}},
		{723, anim1d.Color{0xBD, 0x00, 0x00}},
		{724, anim1d.Color{0xBA, 0x00, 0x00}},
		{725, anim1d.Color{0xB7, 0x00, 0x00}},
		{726, anim1d.Color{0xB4, 0x00, 0x00}},
		{727, anim1d.Color{0xB1, 0x00, 0x00}},
		{728, anim1d.Color{0xAE, 0x00, 0x00}},
		{729, anim1d.Color{0xAB, 0x00, 0x00}},
		{730, anim1d.Color{0xA9, 0x00, 0x00}},
		{731, anim1d.Color{0xA6, 0x00, 0x00}},
		{732, anim1d.Color{0xA3, 0x00, 0x00}},
		{733, anim1d.Color{0xA0, 0x00, 0x00}},
		{734, anim1d.Color{0x9D, 0x00, 0x00}},
		{735, anim1d.Color{0x9A, 0x00, 0x00}},
		{736, anim1d.Color{0x97, 0x00, 0x00}},
		{737, anim1d.Color{0x95, 0x00, 0x00}},
		{738, anim1d.Color{0x92, 0x00, 0x00}},
		{739, anim1d.Color{0x8F, 0x00, 0x00}},
		{740, anim1d.Color{0x8C, 0x00, 0x00}},
		{741, anim1d.Color{0x89, 0x00, 0x00}},
		{742, anim1d.Color{0x86, 0x00, 0x00}},
		{743, anim1d.Color{0x83, 0x00, 0x00}},
		{744, anim1d.Color{0x81, 0x00, 0x00}},
		{745, anim1d.Color{0x7E, 0x00, 0x00}},
		{746, anim1d.Color{0x7B, 0x00, 0x00}},
		{747, anim1d.Color{0x78, 0x00, 0x00}},
		{748, anim1d.Color{0x75, 0x00, 0x00}},
		{749, anim1d.Color{0x72, 0x00, 0x00}},
		{750, anim1d.Color{0x6F, 0x00, 0x00}},
		{751, anim1d.Color{0x6D, 0x00, 0x00}},
		{752, anim1d.Color{0x6A, 0x00, 0x00}},
		{753, anim1d.Color{0x67, 0x00, 0x00}},
		{754, anim1d.Color{0x64, 0x00, 0x00}},
		{755, anim1d.Color{0x61, 0x00, 0x00}},
		{756, anim1d.Color{0x5E, 0x00, 0x00}},
		{757, anim1d.Color{0x5B, 0x00, 0x00}},
		{758, anim1d.Color{0x58, 0x00, 0x00}},
		{759, anim1d.Color{0x56, 0x00, 0x00}},
		{760, anim1d.Color{0x53, 0x00, 0x00}},
		{761, anim1d.Color{0x50, 0x00, 0x00}},
		{762, anim1d.Color{0x4D, 0x00, 0x00}},
		{763, anim1d.Color{0x4A, 0x00, 0x00}},
		{764, anim1d.Color{0x47, 0x00, 0x00}},
		{765, anim1d.Color{0x44, 0x00, 0x00}},
		{766, anim1d.Color{0x42, 0x00, 0x00}},
		{767, anim1d.Color{0x3F, 0x00, 0x00}},
		{768, anim1d.Color{0x3C, 0x00, 0x00}},
		{769, anim1d.Color{0x39, 0x00, 0x00}},
		{770, anim1d.Color{0x36, 0x00, 0x00}},
		{771, anim1d.Color{0x33, 0x00, 0x00}},
		{772, anim1d.Color{0x30, 0x00, 0x00}},
		{773, anim1d.Color{0x2E, 0x00, 0x00}},
		{774, anim1d.Color{0x2B, 0x00, 0x00}},
		{775, anim1d.Color{0x28, 0x00, 0x00}},
		{776, anim1d.Color{0x25, 0x00, 0x00}},
		{777, anim1d.Color{0x22, 0x00, 0x00}},
		{778, anim1d.Color{0x1F, 0x00, 0x00}},
		{779, anim1d.Color{0x1C, 0x00, 0x00}},
		{780, anim1d.Color{0x1A, 0x00, 0x00}},
		{781, anim1d.Color{0x00, 0x00, 0x00}},
	}
	if false {
		for _, line := range data {
			c := waveLength2RGB(line.input)
			fmt.Printf("{%d, Color{0x%02X, 0x%02X, 0x%02X}},\n", int(line.input), c.R, c.G, c.B)
		}
	}
	for i, line := range data {
		if v := waveLength2RGB(line.input); v != line.expected {
			t.Fatalf("%d: waveLength2RGB(%v) = %v, expected %v", i, line.input, v, line.expected)
		}
		if i+379 != int(line.input) {
			t.Fatalf("%d != %d", i+379, int(line.input))
		}
	}
}
